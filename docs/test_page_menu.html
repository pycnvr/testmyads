<!-- saved from url=(0041)http://testmyads.com/testmyads/test1.html -->
<html>

<head>
	<link rel="icon" href="http://testmyads.com/testmyads/images/epsilon_fav_icon.ico">
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<title>Test Page Menu</title>
	<style>
		@media print {
			#ghostery-purple-box {
				display: none !important
			}
		}

		.hidden {
			display: none;
		}
	</style>
</head>

<body>

	<body link="black">
		<a href="http://www.conversantmedia.com/">
			<img src="http://testmyads.com/testmyads/images/EPS_Logo_cropped.jpg" alt="logo" height="72" border="0">
		</a>
		<br>
		<br>
		<div>
			<label for="site-select">Select a site: </label>
			<select id="site-select" name="site-select">
				<option></option>
				<option value="site_1">TestMyAds - SID:38799 - Deal:120</option>
				<option value="site_2">TestMyAds_1 - SID:119041 - Deal:170</option>
				<option value="site_3">TestMyAds_2 - SID:119042 - Deal:171</option>
				<option value="site_5">UK/EU_TestMyAds_1 - SID:123889 - Deal:211</option>
				<option value="site_6">UK/EU_TestMyAds_2 - SID:123890 - Deal:212</option>
			</select>
			<input type="checkbox" checked name="secureFlag" id="secureFlag" value="secure">
			<label for="secureFlag">Secure?</label>
		</div>

		<div class="hidden" id="site_1" data-niu="huskies">
			<h3>TestMyAds - SID:38799 - Deal:120 </h3>
			<ul>
				<li>
					<a style="text-decoration:none" data-path="all_units.html" href="all_units.html">All Units</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="320x50.html" href="320x50.html">Baby Banner - 320x50</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="300x600.html" href="300x600.html">Half Page - 300x600</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="728x90.html" href="728x90.html">Leaderboard - 728x90</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="300x250.html" href="300x250.html">Medium Rectangle - 300x250</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="160x600.html" href="160x600.html">Wide Skycraper - 160x600</a>
				</li>
					<li>
					<a style="text-decoration:none" data-path="videotma.html" href="videotma.html">Video Playe</a>
				</li>
			</ul>
		</div>
		<div class="hidden" id="site_2">
			<h3>TestMyAds_1 - SID:119041 - Deal:170</h3>
			<ul>
				<li>
					<a style="text-decoration:none" data-path="1/all_units.html" href="1/all_units.html">All Units</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="1/320x50.html" href="1/320x50.html">Baby Banner - 320x50</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="1/300x600.html" href="1/300x600.html">Half Page - 300x600</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="1/728x90.html" href="1/728x90.html">Leaderboard - 728x90</a>
				</li>
				<li>
					<a style="text-decoration:none"  data-path="1/300x250.html" href="1/300x250.html">Medium Rectangle - 300x250</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="1/160x600.html" href="1/160x600.html">Wide Skycraper - 160x600</a>
				</li>
					<li>
					<a style="text-decoration:none" data-path="1/videotma.html" href="1/videotma.html">Video Playe</a>
				</li>
			</ul>
		</div>
		<div class="hidden" id="site_3">
			<h3>TestMyAds_2 - SID:119042 - Deal:171</h3>
			<ul>
				<li>
					<a style="text-decoration:none" data-path="2/all_units.html" href="2/all_units.html">All Units</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="2/320x50.html"  href="2/320x50.html">Baby Banner - 320x50</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="2/300x600.html" href="2/300x600.html">Half Page - 300x600</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="2/728x90.html" href="2/728x90.html">Leaderboard - 728x90</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="2/300x250.html" href="2/300x250.html">Medium Rectangle - 300x250</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="2/160x600.html" href="2/160x600.html">Wide Skycraper - 160x600</a>
				</li>
					<li>
					<a style="text-decoration:none" data-path="2/videotma.html" href="2/videotma.html">Video Playe</a>
				</li>
			</ul>
		</div>
		<div class="hidden" id="site_5">
			<h3>UK/EU_TestMyAds_1 - SID:123889 - Deal:211</h3>
			<ul>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/all_units.html" href="eu_uk/1/all_units.html">All Units</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/320x50.html" href="eu_uk/1/320x50.html">Baby Banner - 320x50</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/300x600.html" href="eu_uk/1/300x600.html">Half Page - 300x600</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/728x90.html" href="eu_uk/1/728x90.html">Leaderboard - 728x90</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/300x250.html" href="eu_uk/1/300x250.html">Medium Rectangle - 300x250</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/1/160x600.html" href="eu_uk/1/160x600.html">Wide Skycraper - 160x600</a>
				</li>
					<li>
					<a style="text-decoration:none" data-path="eu_uk/1/videotma.html" href="eu_uk/1/videotma.html">Video Playe</a>
				</li>
			</ul>
		</div>
		<div class="hidden" id="site_6">
			<h3>UK/EU_TestMyAds_2 - SID:123890 - Deal:212</h3>
			<ul>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/all_units.html" href="eu_uk/2/all_units.html">All Units</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/320x50.html" href="eu_uk/2/320x50.html">Baby Banner - 320x50</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/300x600.html" href="eu_uk/2/300x600.html">Half Page - 300x600</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/728x90.html" href="eu_uk/2/728x90.html">Leaderboard - 728x90</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/300x250.html" href="eu_uk/2/300x250.html">Medium Rectangle - 300x250</a>
				</li>
				<li>
					<a style="text-decoration:none" data-path="eu_uk/2/160x600.html" href="eu_uk/2/160x600.html">Wide Skycraper - 160x600</a>
				</li>
					<li>
					<a style="text-decoration:none" data-path="eu_uk/2/videotma.html" href="eu_uk/2/videotma.html">Video Playe</a>
				</li>
			</ul>
		</div>
		<br>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type="text/javascript">
			var history = {
				previous: '',
				current: '',
				paths: []
			}
			var selectedSite;
			var secure;
			var updateLinks = function ($el, isSecure) {

				$el.each(function (index) {

					// convert anchor tags in jquery element
					var $anchor = $($(this)[0]);
					if (!isSecure){
						
						var oldPath = $anchor.attr('href').replace('_ns', '');

						var newPath = oldPath.replace(/\//, '_ns/')
						console.log('new path nonsecure', newPath)
					
						$anchor.attr('href', newPath);
					} else {
						var oldPath = $anchor.attr('href').replace('_ns', '');
						var newPath = oldPath.replace(/_ns\//g, '/')
						console.log('new path secure', newPath)
						
						
						$anchor.attr('href', newPath);
					}
					
				})
			}

			var updateHistory = function (value) {
				history.previous = history.current;
				history.current = value;

				$(`#${history.current}`).show()
				$(`#${history.previous}`).hide()
			}


			$(document).ready(function () {
				// hide all elements 

				$('div.hidden').hide();
				// TODO ADD ON CHANGE TO CHECKOBOX
				// TODO ADD 'NON SECURE' message to header (h3)
				// get drop down value;
				selectedSite = $('#site-select').val();
				secure = $('#secureFlag')[0].checked
				if (selectedSite) {
					var $selecteEl = $('#' + selectedSite + ' > ul > li > a')

					updateLinks($selecteEl, secure);
					updateHistory(selectedSite)
				}


				$('#site-select').on('change', function (evt) {
					// check if secure flag is checked
					selectedSite = $('#site-select').val();
					secure = $('#secureFlag')[0].checked;
					// get all anchor tags for selected site
					var $anchors = $('#' + evt.target.value + ' > ul > li > a')


					// udpate links for the current selected site
					updateLinks($anchors, secure)
					// show selected site && hide previous site
					updateHistory(evt.target.value)
				})

				$('#secureFlag').on('change', function (evt) {
					secure = $('#secureFlag')[0].checked;
					var $anchors = $('#' + selectedSite + ' > ul > li > a');

					updateLinks($anchors, secure);
				})

			})
		</script>
	</body>

</html>
